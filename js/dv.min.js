function DiffViewer(){this.diff=false;this.dts=0}function handleError(c,a,b){console.log("[dv.DiffViewer] "+a+" ("+b+")")}DiffViewer.prototype.show=function(g,f,b,a,d,i,h,e,c,k){var j=this;console.log("[dv.DiffViewer] mode="+d);console.log("[dv.DiffViewer] loading files...");console.log("[dv.DiffViewer] "+g);console.log("[dv.DiffViewer] "+f);console.log("[dv.DiffViewer] "+b);$.ajax({type:"GET",mimeType:"text/plain",url:g,error:handleError}).done(function(l,m,n){console.log("[dv.DiffViewer] original source file loaded.");$.ajax({type:"GET",mimeType:"text/plain",url:f,error:handleError}).done(function(o,p,q){console.log("[dv.DiffViewer] modified source file loaded.");$.ajax({type:"GET",mimeType:"application/json",url:b,error:handleError}).done(function(t,r,s){console.log("[dv.DiffViewer] diff file loaded.");j.mv=CodeMirror.MergeView(a,{revertButtons:false,diffRight:t,value:l,origRight:o,mode:d,scrollbarStyle:"simple",foldGutter:true,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],lineNumbers:true,lineSeparator:"\n",line:i,lineRight:h,essentials:c,essentialsLeft:e,essentialsMapped:k,showDifferences:j.diff,showDts:j.dts});j.mv.init()})})})};DiffViewer.prototype.toggleDifferences=function(){this.mv.setShowDifferences(this.diff=!this.diff)};DiffViewer.prototype.toggleDts=function(){this.mv.setShowDts(this.dts=this.dts>0?0:1)};